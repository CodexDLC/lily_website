{% load static %}
{% load i18n %}

<footer class="footer-smart">
    <div class="container">
        <!-- Footer Bar (Always Visible) -->
        <div class="footer-bar" id="footerBar">

            <!-- 1. Left: Branding -->
            <div class="footer-branding">
                <span class="brand-name">{{ site_settings.company_name }}</span>
                <span class="copyright">¬© {% now "Y" %}</span>
            </div>

            <!-- 2. Center: Developer Credit (YOUR AD) -->
            <div class="developer-credit-center" id="footerCredits">
                <span class="dev-text">Developed by</span>
                <a href="https://github.com/CodexDLC" target="_blank" class="dev-link">CodexDLC</a>
            </div>

            <!-- 3. Right: Controls (Lang + Toggle) -->
            <div class="footer-controls" id="footerControls">

                <!-- Language Switcher -->
                <div class="footer-lang-container">
                    {% get_current_language as LANGUAGE_CODE %}
                    {% get_available_languages as LANGUAGES %}
                    {% get_language_info_list for LANGUAGES as languages %}

                    <div class="lang-current">
                        {% if LANGUAGE_CODE == 'uk' %}UA{% else %}{{ LANGUAGE_CODE|upper }}{% endif %}
                    </div>

                    <div class="lang-dropdown">
                        {% for language in languages %}
                            {% if language.code != LANGUAGE_CODE %}
                            <form action="{% url 'set_language' %}" method="post" class="lang-form">
                                {% csrf_token %}
                                <input name="next" type="hidden" value="{{ request.path }}">
                                <input name="language" type="hidden" value="{{ language.code }}">
                                <button type="submit" class="lang-option">
                                    {% if language.code == 'uk' %}UA{% else %}{{ language.code|upper }}{% endif %}
                                </button>
                            </form>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>

                <!-- Toggle Button -->
                <button class="footer-toggle-btn" id="footerToggleBtn" aria-label="{% trans "btn_ui_toggle_footer" %}">
                    <span class="arrow-icon">‚Üë</span>
                </button>
            </div>
        </div>

        <!-- Footer Content (Collapsible) -->
        <div class="footer-content" id="footerContent">
            <div class="footer-grid">
                <!-- Column 1: Contacts & CTA -->
                <div class="f-col contact-col">
                    <div class="f-row"><span class="icon">üìû</span> <a href="tel:{{ site_settings.phone }}">{{ site_settings.phone }}</a></div>
                    <div class="f-row"><span class="icon">üìç</span>
                        <a href="{{ site_settings.google_maps_link|default:'#' }}" target="_blank" class="link-dashed">
                            {{ site_settings.address_street }},<br>{{ site_settings.address_city }}
                        </a>
                    </div>
                    <div class="f-row" style="margin-top: 15px;">
                        <span class="icon">‚úâÔ∏è</span>
                        <a href="{% url 'contacts' %}" class="more-link">{% trans "nav_footer_all_contacts" %} ‚Üí</a>
                    </div>
                    <div style="margin-top: 25px;">
                        <a href="{% url 'booking_wizard' %}" class="btn-pill btn-gold-outline" style="font-size: 14px; padding: 10px 25px;">
                            {% trans "btn_cta_booking" %}
                        </a>
                    </div>
                </div>

                <!-- Column 2: Hair -->
                <div class="f-col">
                    <h3 class="f-title">
                        <a href="{% url 'service_detail' slug='hair' %}">{% trans "service_cat_hair" %}</a>
                    </h3>
                    <ul>
                        <li><a href="{% url 'service_detail' slug='hair' %}">{% trans "service_item_haircuts" %}</a></li>
                        <li><a href="{% url 'service_detail' slug='hair' %}">{% trans "service_item_coloring" %}</a></li>
                        <li><a href="{% url 'service_detail' slug='hair' %}">{% trans "service_item_treatment" %}</a></li>
                        <li><a href="{% url 'service_detail' slug='hair' %}">{% trans "service_item_styling" %}</a></li>
                    </ul>
                </div>

                <!-- Column 3: Nails -->
                <div class="f-col">
                    <h3 class="f-title">
                        <a href="{% url 'service_detail' slug='nails' %}">{% trans "service_cat_nails" %}</a>
                    </h3>
                    <ul>
                        <li><a href="{% url 'service_detail' slug='nails' %}">{% trans "service_item_manicure" %}</a></li>
                        <li><a href="{% url 'service_detail' slug='nails' %}">{% trans "service_item_pedicure" %}</a></li>
                        <li><a href="{% url 'service_detail' slug='nails' %}">{% trans "service_item_extension" %}</a></li>
                    </ul>
                </div>

                <!-- Column 4: Beauty & Care -->
                <div class="f-col">
                    <h3 class="f-title">
                        <a href="{% url 'services' %}">{% trans "service_cat_beauty" %}</a>
                    </h3>
                    <ul>
                        <li><a href="{% url 'service_detail' slug='depilation' %}">{% trans "service_item_epilation" %}</a></li>
                        <li><a href="{% url 'service_detail' slug='eyes' %}">{% trans "service_item_lashes" %}</a></li>
                        <li><a href="{% url 'service_detail' slug='eyes' %}">{% trans "service_item_lamination" %}</a></li>
                        <li><a href="{% url 'service_detail' slug='body' %}">{% trans "service_item_massage" %}</a></li>
                    </ul>
                </div>
            </div>
            <!-- LEGAL LINKS -->
            <div class="footer-legal-links">
                <a href="{% url 'impressum' %}">{% trans "nav_legal_impressum" %}</a>
                <span class="separator-text">|</span>
                <a href="{% url 'datenschutz' %}">{% trans "nav_legal_privacy" %}</a>
                <span class="separator-text">|</span>
                <a href="#" onclick="window.revokeCookieConsent(); return false;">{% trans "nav_legal_cookies" %}</a>
                <span class="separator-text">|</span>
                <a href="{% url 'faq' %}" style="color: var(--color-gold); font-weight: bold;">FAQ</a>
            </div>
        </div>
    </div>
</footer>
