# üìù –û—Ç—á–µ—Ç –æ —Å–µ—Å—Å–∏–∏ –∏ –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

## üõ† –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
*   –û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ—Ä–Ω–µ–≤—ã–µ `README.md` –∏ `README-RU.md`: —Ç–µ–ø–µ—Ä—å –æ–Ω–∏ –æ–ø–∏—Å—ã–≤–∞—é—Ç –ø—Ä–æ–µ–∫—Ç **Lily Beauty Salon**, –∞ –Ω–µ —à–∞–±–ª–æ–Ω.
*   –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –¥–∏–∑–∞–π–Ω-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–∑ `1/docs_arch` –≤ `docs/`.
*   **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
    *   `docs/ru_RU/design/` ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º.
    *   `docs/en_EN/design/` ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π.

### 2. Docker –∏ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –≤ `deploy/docker-compose.yml` –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª —Å–µ—Ä–≤–∏—Å Django (`backend`). –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–ª—Å—è, –Ω–æ –µ–º—É –Ω–µ–∫—É–¥–∞ –±—ã–ª–æ —Å—Ç—É—á–∞—Ç—å—Å—è –ø–æ API.
**–†–µ—à–µ–Ω–∏–µ:**
1.  –°–æ–∑–¥–∞–Ω `deploy/backend/Dockerfile`.
2.  –í `docker-compose.yml` –¥–æ–±–∞–≤–ª–µ–Ω —Å–µ—Ä–≤–∏—Å `backend` (Django).
3.  –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å–µ—Ç—å: –ë–æ—Ç —Ç–µ–ø–µ—Ä—å –≤–∏–¥–∏—Ç Django –ø–æ –∞–¥—Ä–µ—Å—É `http://backend:8000`.

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–±–æ—Ä–∫–∏ (Build Errors)
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–±–æ—Ä–∫–∞ –ø–∞–¥–∞–ª–∞ —Å –æ—à–∏–±–∫–∞–º–∏ `Building a package is not possible in non-package mode` –∏ `pyproject.toml changed significantly`.
**–ü—Ä–∏—á–∏–Ω—ã:**
*   –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ Dockerfile (`pip install .`).
*   –ö–æ–Ω—Ñ–ª–∏–∫—Ç –≤–µ—Ä—Å–∏–π Poetry (–ª–æ–∫–∞–ª—å–Ω–æ 2.0, –≤ –¥–æ–∫–µ—Ä–µ –±—ã–ª–∞ 1.8).
*   –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ `poetry.lock` –î–æ–∫–µ—Ä–æ–º.
**–†–µ—à–µ–Ω–∏–µ:**
*   –ü–µ—Ä–µ–ø–∏—Å–∞–ª–∏ –≤—Å–µ `Dockerfile` (backend, bot, worker) –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `poetry install --extras ...`.
*   –£–±—Ä–∞–ª–∏ –∂–µ—Å—Ç–∫—É—é –ø—Ä–∏–≤—è–∑–∫—É –≤–µ—Ä—Å–∏–∏ Poetry.
*   –°–æ–±—Ä–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç —Å —Ñ–ª–∞–≥–æ–º `--no-cache`.

---

## ‚ö†Ô∏è –ó–ê–î–ê–ß–ê –ù–ê –ó–ê–í–¢–†–ê

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env
–§–∞–π–ª—ã `.env` –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –í–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –¥–≤–∞ —Ñ–∞–π–ª–∞ –≤—Ä—É—á–Ω—É—é.

**–ö–æ—Ä–Ω–µ–≤–æ–π —Ñ–∞–π–ª (–¥–ª—è –ë–æ—Ç–∞ –∏ Docker)**
üìç –ü—É—Ç—å: `C:/install/progect/lily_website/.env`
```ini
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω
BOT_DATA_MODE=api
BACKEND_BASE_URL=http://backend:8000/api/v1
REDIS_HOST=redis
REDIS_PORT=6379
POSTGRES_USER=lily_user
POSTGRES_PASSWORD=lily_password
POSTGRES_DB=lily_db
```

**–§–∞–π–ª –¥–ª—è Django**
üìç –ü—É—Ç—å: `C:/install/progect/lily_website/src/backend-django/.env`
```ini
DEBUG=True
SECRET_KEY=django-insecure-dev-key
ALLOWED_HOSTS=*
# DATABASE_URL=... (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –≤–Ω–µ—à–Ω—è—è –±–∞–∑–∞, –∏–Ω–∞—á–µ SQLite)
```

### 2. –û–±–Ω–æ–≤–∏—Ç—å README (–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ)
–í `README.md` –Ω—É–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è Django, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `extras`.

**–î–æ–±–∞–≤–∏—Ç—å –≤ —Ä–∞–∑–¥–µ–ª "–£—Å—Ç–∞–Ω–æ–≤–∫–∞":**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –í–°–Å (Django + Bot + Dev Tools) - –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø
poetry install --all-extras

# –ò–ª–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏:
poetry install --extras django
poetry install --extras dev  # –ù—É–∂–Ω–æ –¥–ª—è ruff, mypy, pytest
```
*–ë–µ–∑ —Ñ–ª–∞–≥–∞ `--extras dev` –∫–æ–º–∞–Ω–¥—ã ruff/mypy —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥—É—Ç.*

---

## üîÆ –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è (Next Steps)

–ß—Ç–æ–±—ã –¥–æ–≤–µ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç –¥–æ –∏–¥–µ–∞–ª–∞ ("Production Ready"):

1.  **Git Flow**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–µ—Ç–≤–ª–µ–Ω–∏–µ (main / dev / feature).
2.  **Code Quality**:
    *   –ü—Ä–æ–≥–Ω–∞—Ç—å `ruff check --fix` –ø–æ –≤—Å–µ–º—É –ø—Ä–æ–µ–∫—Ç—É (–∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å—Ç–∏–ª—å).
    *   –ü—Ä–æ–≥–Ω–∞—Ç—å `mypy` (–∏—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–∏–ø—ã).
3.  **Tests**:
    *   –ù–∞–ø–∏—Å–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è Django (–ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã).
    *   –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –ë–æ—Ç–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤).

---

## üí° –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –∑–∞–º–µ—Ç–∫–∞ (API)

–û–±—Å—É–¥–∏–ª–∏ –≤—ã–±–æ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–ª—è API (—Å–≤—è–∑—å –ë–æ—Ç <-> Django):

1.  **–¢–µ–∫—É—â–∏–π —Å—Ç–µ–∫:** Django (Fullstack —Å —à–∞–±–ª–æ–Ω–∞–º–∏) + Bot.
2.  **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Django Ninja** –∫–∞–∫ –ª–µ–≥–∫–æ–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ Django –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –ø–æ–¥ –±–æ—Ç–∞.
    *   *–ü–æ—á–µ–º—É:* –õ–µ–≥—á–µ –∏ –±—ã—Å—Ç—Ä–µ–µ DRF, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π (–∫–∞–∫ –±–æ—Ç), Pydantic-—Å—Ö–µ–º—ã.
3.  **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –ï—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ** –º–æ—â–Ω—ã–π API –±–µ–∑ HTML-—à–∞–±–ª–æ–Ω–æ–≤ ‚Äî –ª—É—á—à–µ –≤—ã–¥–µ–ª–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –Ω–∞ **FastAPI**, —á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—è–∂–µ–ª—ã–π Django REST Framework.

---

## üîç –ü–æ—á–µ–º—É –Ω–µ –±—ã–ª–æ Django? (–ê–Ω–∞–ª–∏–∑ –∏–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä–∞)

–í—ã —Å–ø—Ä–æ—Å–∏–ª–∏: *"–ö–∞–∫ –∂–µ —è –¥–∂–∞–Ω–≥–æ —Å–æ–∑–¥–∞–ª, –µ—Å–ª–∏ –Ω–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏?"*

**–û—Ç–≤–µ—Ç:** –ò–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä (`tools.init_project`) **—Ç–æ–ª—å–∫–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã** (–∫–æ–¥, –∫–æ–Ω—Ñ–∏–≥–∏, –ø–∞–ø–∫–∏). –û–Ω **–Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç** Python-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (`django`, `aiogram` –∏ —Ç.–¥.).

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫ ‚Äî —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π —à–∞–≥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `poetry install`. –ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏ –∏–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä, –Ω–æ –∑–∞–±—ã–ª–∏ (–∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω–∏–ª–∏) –∫–æ–º–∞–Ω–¥—É `poetry install --extras django`, —Ç–æ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ —É –≤–∞—Å –ø–æ—è–≤–∏–ª–∏—Å—å, –∞ —Å–∞–º–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Django –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –Ω–µ –ø–æ–ø–∞–ª–∞.

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å (Docker)

```bash
# 1. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ
docker compose -f deploy/docker-compose.yml up -d --build

# 2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (–û–¥–∏–Ω —Ä–∞–∑ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞!)
docker compose -f deploy/docker-compose.yml exec backend python manage.py migrate

# 3. –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä—é–∑–µ—Ä–∞ (–¥–ª—è –∞–¥–º–∏–Ω–∫–∏)
docker compose -f deploy/docker-compose.yml exec backend python manage.py createsuperuser

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –±–æ—Ç–∞
docker compose -f deploy/docker-compose.yml logs -f bot
```
