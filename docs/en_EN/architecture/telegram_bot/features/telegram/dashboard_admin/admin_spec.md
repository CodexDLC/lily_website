# üìä Dashboard Admin (–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
> **–°—Ç–∞—Ç—É—Å:** Tech Spec (–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
> **–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ–≤–µ—Ä—Ö –∫–∞—Å—Ç–æ–º–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –±–æ—Ç–∞ (—Å–º. `ai_context.md`)

## 1. –ö–æ–Ω—Ü–µ–ø—Ü–∏—è —Ñ–∏—á–∏
`dashboard_admin` ‚Äî —ç—Ç–æ Telegram-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç) –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞/–º–∞—Å—Ç–µ—Ä–∞ —Å–∞–ª–æ–Ω–∞.
–í–∞–∂–Ω–æ–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ:
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–±—Ä–æ–Ω–∏, –æ—à–∏–±–∫–∏, –∫–æ–Ω—Ç–∞–∫—Ç—ã)** –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è Redis-–≤–æ—Ä–∫–µ—Ä–æ–º –≤ **Telegram-–∫–∞–Ω–∞–ª/—Ç–æ–ø–∏–∫–∏** (–æ—Ç–¥–µ–ª—å–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞).
- **Dashboard Admin** ‚Äî —ç—Ç–æ –ª–∏—á–Ω—ã–π —á–∞—Ç –∞–¥–º–∏–Ω–∞ —Å –±–æ—Ç–æ–º. –ó–¥–µ—Å—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç **–ú–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è** –∏ –º–æ–∂–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Ñ–∏—á–∞–º–∏ (—Ä–∞–±–æ—Ç–∞ —Å –∑–∞—è–≤–∫–∞–º–∏, –æ—Ç—á–µ—Ç—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞).

## 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –¥–∏–∑–∞–π–Ω (Menu vs Content)

–ì–ª–∞–≤–Ω–∞—è —Ñ–∏—à–∫–∞ UI-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã: –∂–µ—Å—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–µ–∂–¥—É –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π (Menu) –∏ —Ä–∞–±–æ—á–µ–π –æ–±–ª–∞—Å—Ç—å—é (Content).

### 2.1 –†–æ–ª—å **Menu** (–í–µ—Ä—Ö–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ)
–ú–µ–Ω—é —Å–æ–¥–µ—Ä–∂–∏—Ç **—Ç–æ–ª—å–∫–æ** –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ —Ñ–∏—á–∞–º–∏ (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞).
- –ü–µ—Ä–µ—Ö–æ–¥ –≤ —Ä–µ–∂–∏–º—ã: –†–∞–±–æ—Ç–∞ —Å –∑–∞—è–≤–∫–∞–º–∏, –û—Ç—á–µ—Ç—ã, –ù–∞—Å—Ç—Ä–æ–π–∫–∏, –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏.
- –ï—Å–ª–∏ –Ω–∞–º –Ω—É–∂–µ–Ω –Ω–æ–≤—ã–π **–≥–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª** –≤ –º–µ–Ω—é ‚Äî –º—ã —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é —Ñ–∏—á—É (–ø–∞–ø–∫—É).

### 2.2 –†–æ–ª—å **Content** (–ù–∏–∂–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ)
–ö–æ–Ω—Ç–µ–Ω—Ç-—Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ **–≥–ª—É–±–∏–Ω—É** —Ä–∞–±–æ—Ç—ã –≤–Ω—É—Ç—Ä–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ñ–∏—á–∏. –ó–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—Å—è —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞:
- –í—ã–≤–æ–¥ –∫–∞—Ä—Ç–æ—á–µ–∫, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.
- –ö–Ω–æ–ø–∫–∏ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è **Telegram WebApp** –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞.
- –ù–∞–≤–∏–≥–∞—Ü–∏—è "–ø—Ä–æ–≤–∞–ª–∏–≤–∞–Ω–∏—è" –≤–≥–ª—É–±—å (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -> —Å–ø–∏—Å–∫–∏ -> –ø–∞–≥–∏–Ω–∞—Ü–∏—è).

**–ü—Ä–∏–º–µ—Ä (–§–∏—á–∞: –†–∞–±–æ—Ç–∞ —Å –∑–∞—è–≤–∫–∞–º–∏):**
- *–°—Ç–µ–π—Ç 1 (–ö–∞—Ç–µ–≥–æ—Ä–∏–∏):* –ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 6 –∫–Ω–æ–ø–æ–∫ –ø–æ –≤–∏–¥–∞–º –∑–∞—è–≤–æ–∫, –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç—á–µ—Ç "—Å–µ–≥–æ–¥–Ω—è - 5 –∑–∞—è–≤–æ–∫, –≤—Å–µ–≥–æ - 120", –ø–ª—é—Å —Ñ–∏–ª—å—Ç—Ä—ã.
- *–°—Ç–µ–π—Ç 2 (–°–ø–∏—Å–æ–∫):* –Æ–∑–µ—Ä –∂–º–µ—Ç "–ù–æ–≤—ã–µ", –∫–æ–Ω—Ç–µ–Ω—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π (–∫–Ω–æ–ø–∫–∏ [‚óÄÔ∏è] 1/10 [‚ñ∂Ô∏è]), –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –£–≥–ª—É–±–ª–µ–Ω–∏–µ –∏–¥–µ—Ç —Ç–æ–ª—å–∫–æ –≤ Content'–µ.

## 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ì–ª–∞–≤–Ω—ã–º –ú–µ–Ω—é (BotMenuOrchestrator)
–ì–ª–∞–≤–Ω—ã–π `BotMenuOrchestrator` —É–º–µ–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –¥–≤–∞ —Ä–µ–∂–∏–º–∞ Menu:
- `mode="bot_menu"` (–ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –º–µ–Ω—é)
- `mode="dashboard_admin"` (–ê–¥–º–∏–Ω—Å–∫–æ–µ –º–µ–Ω—é)

–ü—Ä–∏ –≤—ã–±–æ—Ä–µ `dashboard_admin`, –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `is_admin` –ø—Ä–∞–≤–∞ —á–µ—Ä–µ–∑ `BotSettings` –∏ –æ—Ç–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É, —Å–æ–±—Ä–∞–Ω–Ω—É—é —Ç–æ–ª—å–∫–æ –∏–∑ —Ñ–∏—á —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π `MENU_CONFIG = { ..., "is_admin": True }`.

## 4. –ß–µ–∫-–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

–ü—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ–∏—á –ø–æ–¥ –ê–¥–º–∏–Ω–∫—É, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø–∏—Ä–∞—Ç—å—Å—è –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥:

- [ ] **1. –ó–∞–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `MENU_CONFIG` –¥–ª—è –Ω–æ–≤—ã—Ö –∞–¥–º–∏–Ω-—Ñ–∏—á.**
  –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ñ–∏—á–∏, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞ (–æ—Ç—á–µ—Ç—ã, –∑–∞—è–≤–∫–∏), –∏–º–µ—é—Ç —Ñ–ª–∞–≥ `is_admin: True` –≤ –∏—Ö `MENU_CONFIG` (`feature_setting.py`). –ü–æ–ª–µ `target_state` –¥–æ–ª–∂–Ω–æ –≤–µ—Å—Ç–∏ –Ω–∞ —Å–∞–º—É —Ñ–∏—á—É.

- [ ] **2. –°–æ–±–ª—é–¥–∞—Ç—å –ø–∞—Ä–∞–¥–∏–≥–º—É Menu/Content –≤ –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞—Ö.**
  –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä—ã –∞–¥–º–∏–Ω-—Ñ–∏—á (`handle_entry` / `render_content`) –¥–æ–ª–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `ViewResultDTO` —Ç–æ–ª—å–∫–æ –¥–ª—è Content (—Ç–∞–∫ –∫–∞–∫ Menu –æ—Å—Ç–∞–µ—Ç—Å—è –∞–¥–º–∏–Ω—Å–∫–∏–º). –ü—Ä–∏ –ø—Ä–æ–≤–∞–ª–∏–≤–∞–Ω–∏–∏ –≤–≥–ª—É–±—å –≤–Ω—É—Ç—Ä–∏ —Ñ–∏—á–∏, –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç –∏ `InlineKeyboardMarkup` –∫–æ–Ω—Ç–µ–Ω—Ç–Ω–æ–≥–æ –±–ª–æ–∫–∞.

- [ ] **3. –ö–Ω–æ–ø–∫–∏ WebApp ‚Äî —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Ç–µ–Ω—Ç–µ.**
  –ï—Å–ª–∏ –¥–ª—è —Å–ª–æ–∂–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω—É–∂–µ–Ω WebApp, –∫–Ω–æ–ø–∫–∞ —Å `web_app=WebAppInfo(url=...)` –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –≤–Ω—É—Ç—Ä–∏ **Content** —Å–ª–æ—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–π —Ñ–∏—á–∏, –∞ –Ω–µ –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –º–µ–Ω—é.

## 4. –ü—Ä–∏–º–µ—Ä —Ñ–ª–æ—É (Data Flow)

1. –Æ–∑–µ—Ä –∂–º–µ—Ç "üîê Admin Panel" –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é.
2. Callback –ª–æ–≤–∏—Ç—Å—è –≤ `BotMenuOrchestrator.handle_callback`.
3. Action `select`, target `dashboard_admin`.
4. –í—ã–∑–æ–≤ `handle_menu_click`.
5. –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `_is_user_admin`.
6. –í—ã–∑–æ–≤ `render_dashboard(mode="dashboard_admin")`.
7. –í—ã–∑–æ–≤ `FeatureDiscoveryService.get_menu_buttons(is_admin=True)`.
8. UI —Å–æ–±–∏—Ä–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É (–∏–Ω–ª–∞–π–Ω –∫–Ω–æ–ø–∫–∏ —Ñ–∏—á + –∏–Ω–ª–∞–π–Ω –∫–Ω–æ–ø–∫–∞ WebApp + –∫–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥").
9. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `UnifiedViewDTO`.
10. `ViewSender` –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ª–∏—á–Ω–æ–º —á–∞—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

---
> ü§ñ **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ò–ò:** –ó–∞–±–µ—Ä–∏ —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –≤–º–µ—Å—Ç–µ —Å `ai_context.md` –≤ –Ω–æ–≤—ã–π —á–∞—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–π –∫–∞–∫ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏. –ù–∏–∫–∞–∫–∏—Ö `router.message` –¥–ª—è –∞–¥–º–∏–Ω–∫–∏ –Ω–µ –Ω—É–∂–Ω–æ, –≤—Å—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏–¥–µ—Ç —á–µ—Ä–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `BotMenuOrchestrator` –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ WebApp-–∫–Ω–æ–ø–æ–∫.
